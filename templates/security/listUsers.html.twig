{% extends 'base.html.twig' %}

{% block title %}
    Liste des utilisateurs
{% endblock %}

{% block body %}
<table>
    <thead>
            <tr>
                <th>Pseudo</th>
                <th colspan="3">Roles</th>
                <th>Admin</th>
                <th>Autheur</th>
            </tr>
            <tr>
                <th></th>
                <th>Moderateur</th>
                <th>Admin</th>
                <th>Auteur</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                <tr>
                    <td>{{user.pseudo}}</td>
                    <td>
                        {% if 'ROLE_MODERATOR' in user.roles %}
                            X
                        {% endif %}
                    </td>
                    <td>
                        {% if 'ROLE_ADMIN' in user.roles %}
                            X
                        {% endif %}
                    </td>
                    <td>
                        {% if 'ROLE_AUTHOR' in user.roles %}
                            X
                        {% endif %}
                    </td>
                    <td>
                        {% if user.id !=1 %}
                            <a href="{{ path('change_role_user', {'user':user.id, 'role':'ROLE_ADMIN'}) }}" class="">Changer le role</a>
                        {% endif %}
                    </td> 
                    <td>
                        {% if user.id !=1 %}
                            <a href="{{ path('change_role_user', {'user':user.id, 'role':'ROLE_AUTHOR'}) }}" class="">Changer le role</a>
                        {% endif %}
                    </td> 
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}